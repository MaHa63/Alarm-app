<div class="container">

  <h1>Arkisto: Valmiit tehtävät</h1>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th data-field="description", style="width: 45% ">Kuvaus</th>
        <th data-field="customer_name", style="width: 15% ">Asiakas</th>
        <th data-field="created",  style="width: 15% ">Avattu</th>
        <th data-field="priority", style="width: 10% ">Prioriteetti</th>
        <th data-field="completed",  style="width: 15% ">Suljettu</th>
        <th colspan="2"></th>
      </tr>
    </thead>

    <tbody>
      <% @todos.each do |todo| %>
        <tr>
          <td><%= todo.description %></td>
          <td><%= todo.customer.customer_name unless todo.customer.nil? %></td>
          <td><%= todo.created_nil_out %></td>
          <td><strong><%= todo.priority_as_text%></strong></td>
          <td><%= todo.completed_nil_out %></td>      
          <td><%= button_to 'Avaa', { :controller => :todos, :action => 'open', :id => todo.id }, method: :post, class: "btn btn-green btn-xs" %></td>
          <td><%= button_to 'Poista', { :controller => :todos, :action => 'destroy', :id => todo.id },:method => :delete, class: "btn btn-red btn-xs", data: { confirm: "Oletko varma tietueen poistamisesta ?"} %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate @todos, renderer: BootstrapPagination::Rails,  :previous_label => t("edellinen"), :next_label => t("seuraava") %>
  <br />
  <%= link_to 'Palaa', todos_path, { class: 'btn btn-gray' } %>

  </div>
  <br /><br /><br /><br />
</div>